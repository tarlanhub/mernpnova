(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[3],{18:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));var n=a(5),r=function(){return function(e,t){e({type:n.d})}},o=function(){return function(e,t){e({type:n.e})}},s=function(){return function(e,t){e({type:n.h})}}},19:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return u}));var n=a(26),r=a.n(n),o=a(5),s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.g,payload:{msg:e,status:t,id:a}}},l=function(){return function(e){r.a.get("/api/users/authchecker",{withCredentials:!0}).then((function(t){return e({type:o.c,payload:t.data})})).catch((function(t){e({type:o.b})}))}},c=function(e){var t=e.name,a=e.email,n=e.password;return function(e){var l=JSON.stringify({name:t,email:a,password:n});r.a.post("/api/users/register",l,{headers:{"Content-Type":"application/json"}}).then((function(t){e(s(t.data,t.status,"REGISTER_SUCCESS")),e({type:o.h})})).catch((function(t){e(s(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:o.l}),e({type:o.h})}))}},i=function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});r.a.post("/api/users/login",n,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e({type:o.j,payload:t.data}),e({type:o.h})})).catch((function(t){e(s(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:o.i}),e({type:o.h})}))}},u=function(){return function(e){r.a.delete("/api/users/logout",{withCredentials:!0}).then((function(t){return e({type:o.k})})).catch((function(e){console.log(e)}))}}},27:function(e,t,a){},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"j",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"k",(function(){return s})),a.d(t,"m",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return h})),a.d(t,"h",(function(){return g}));var n="AUTH_ERROR",r="LOGIN_SUCCESS",o="LOGIN_FAIL",s="LOGOUT_SUCCESS",l="REGISTER_SUCCESS",c="REGISTER_FAIL",i="GET_STATUS",u="CLEAR_STATUS",m="BUTTON_CLICKED",p="BUTTON_RESET",d="AUTH_SUCCESS",h="AUTH_FAIL",g="IS_LOADING"},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),l=a(12),c=a(13),i=a(15),u=a(14),m=a(24),p=a(90),d=a(91),h=a(92),g=a(93),E=a(100),f=a(94),b=a(95),y=a(96),v=a(97),O=a(98),S=a(99),j=a(17),C=a(18),w=a(19),k=a(8),A=(a(27),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",msg:""},e.onChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,password:a.password};e.props.isLoading(),e.props.login(n)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.buttonClicked()}},{key:"componentDidUpdate",value:function(e){var t=this.props.status;t!==e.status&&"LOGIN_FAIL"===t.id&&this.setState({msg:t.statusMsg})}},{key:"render",value:function(){var e="divStyle";return this.props.button||(e="formStyle"),r.a.createElement("div",{className:e},r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,null," ",r.a.createElement("h2",null,r.a.createElement("strong",null,"Login"))),r.a.createElement(g.a,{className:"text-muted"},"Don't have an account?",r.a.createElement(k.c,{to:"/register"}," Register. ")),r.a.createElement("br",null),this.state.msg?r.a.createElement(E.a,{color:"danger"},this.state.msg):null,r.a.createElement(f.a,{onSubmit:this.onSubmit},r.a.createElement(b.a,null,r.a.createElement(y.a,{for:"email"},"E-mail"),r.a.createElement(v.a,{type:"email",name:"email",id:"email",size:"lg",placeholder:"you@youremail.com",className:"mb-3",onChange:this.onChange}),r.a.createElement(y.a,{for:"password"},"Password"),r.a.createElement(v.a,{type:"password",name:"password",id:"password",size:"lg",placeholder:"Enter your Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(O.a,{size:"lg",color:"dark",style:{marginTop:"2rem"},block:!0},this.props.loading?r.a.createElement("span",null,"Logging in.. ",r.a.createElement(S.a,{size:"sm",color:"light"})):r.a.createElement("span",null,"Login")))))))}}]),a}(n.Component)),N=Object(j.b)((function(e){return{button:e.ui.button,isAuthenticated:e.auth.isAuthenticated,status:e.status,loading:e.ui.loading}}),{login:w.b,isLoading:C.c,buttonClicked:C.a})(A),R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",msg:""},e.onChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={name:a.name,email:a.email,password:a.password};e.props.isLoading(),e.props.register(n)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.buttonClicked()}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.status;a!==e.status&&("REGISTER_FAIL"===a.id?this.setState({msg:a.statusMsg}):this.setState({msg:this.props.status.statusMsg})),"REGISTER_SUCCESS"===a.id&&setTimeout((function(){t.props.history.push("/login")}),2e3)}},{key:"render",value:function(){var e,t="divStyle";return this.state.msg&&this.props.status.respCode>=400?e=r.a.createElement(E.a,{color:"danger"},this.state.msg):this.state.msg&&200===this.props.status.respCode&&(e=r.a.createElement(E.a,{color:"success"},this.state.msg," ",r.a.createElement("br",null)," Redirecting to Log In screen")),this.props.button||(t="formStyle"),r.a.createElement("div",{className:t},r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"Register"))),r.a.createElement(g.a,{className:"text-muted"},"Already have an account?",r.a.createElement(k.c,{to:"/login"}," Log In. ")),r.a.createElement("br",null),e,r.a.createElement(f.a,{onSubmit:this.onSubmit},r.a.createElement(b.a,{className:"text-center"},r.a.createElement(y.a,{for:"name"},"Name"),r.a.createElement(v.a,{type:"text",name:"name",id:"name",placeholder:"Enter your name",className:"mb-3",size:"lg",onChange:this.onChange}),r.a.createElement(y.a,{for:"email"},"E-mail"),r.a.createElement(v.a,{type:"email",name:"email",id:"email",placeholder:"you@youremail.com",className:"mb-3",size:"lg",onChange:this.onChange}),r.a.createElement(y.a,{for:"password"},"Password"),r.a.createElement(v.a,{type:"password",name:"password",id:"password",placeholder:"Enter your Password",className:"mb-3",size:"lg",onChange:this.onChange}),r.a.createElement(O.a,{color:"dark",className:"mt-5",size:"lg",block:!0},this.props.loading?r.a.createElement("span",null,"Registering.. ",r.a.createElement(S.a,{size:"sm",color:"light"})):r.a.createElement("span",null,"Register")))))))}}]),a}(n.Component),_=Object(j.b)((function(e){return{button:e.ui.button,status:e.status,loading:e.ui.loading}}),{register:w.d,isLoading:C.c,buttonClicked:C.a})(R),L=a(22),T=a(20),I=a(51),U=a(9),D=a(5),G={isAuthenticated:null,user:null},z={button:!0,loading:!1},M={statusMsg:{},respCode:null,id:null},x=Object(T.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.m:return Object(U.a)(Object(U.a)({},e),{},{user:t.payload});case D.j:case D.c:return Object(U.a)(Object(U.a)({},e),{},{isAuthenticated:!0,user:t.payload});case D.a:case D.i:case D.k:case D.l:case D.b:return Object(U.a)(Object(U.a)({},e),{},{user:null,isAuthenticated:!1});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.d:return Object(U.a)(Object(U.a)({},e),{},{button:!1});case D.e:return Object(U.a)(Object(U.a)({},e),{},{button:!0});case D.h:return Object(U.a)(Object(U.a)({},e),{},{loading:!e.loading});default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.g:return{statusMsg:t.payload.msg,respCode:t.payload.status,id:t.payload.id};case D.f:return{statusMsg:{},respCode:null,id:null};default:return e}}}),F=[I.a],B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,P=Object(T.e)(x,{},B(T.a.apply(void 0,F))),J={color:"white"},H=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){P.dispatch(Object(w.a)())}},{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(L.a,{to:"/profile"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"header"},r.a.createElement("h1",{class:"header__title"},"Come code with us.")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main"},r.a.createElement("h1",{style:J}," ",r.a.createElement("strong",null,"NOVA")," Sessions Auth App "),r.a.createElement("br",null),r.a.createElement("h5",{style:J},"Minimalistic Sessions based Authentication app ",r.a.createElement("span",{role:"img","aria-label":"lock"},"\ud83d\udd12 "),r.a.createElement("br",null),"Built with React + Redux, NodeJS, Express, MongoDB and Bootstrap"),r.a.createElement("h5",{style:J},"Uses Cookies ",r.a.createElement("span",{role:"img","aria-label":"lock"},"\ud83c\udf6a ")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(L.d,null,r.a.createElement(L.b,{exact:!0,path:"/login",component:N}),r.a.createElement(L.b,{exact:!0,path:"/register",component:_})),this.props.button&&r.a.createElement(k.c,{className:"divStyle",to:"/login"},r.a.createElement(O.a,{size:"lg",color:"light"},"Sign In")),this.props.button&&r.a.createElement(k.c,{className:"divStyle",to:"/register"},r.a.createElement(O.a,{size:"lg",color:"light"},"Register")),r.a.createElement(L.a,{to:"./Register"})))))}}]),a}(n.Component),V=Object(j.b)((function(e){return{button:e.ui.button,isAuthenticated:e.auth.isAuthenticated}}))(H),W=(a(86),r.a.createElement("div",{className:"pt-3 text-center"},r.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"}))),X=r.a.lazy((function(){return Promise.all([a.e(0),a.e(39)]).then(a.bind(null,181))})),K=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(k.b,null,r.a.createElement(r.a.Suspense,{fallback:W},r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/",name:"Home",render:function(e){return r.a.createElement(X,e)}}))))}}]),a}(n.Component),$=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLogout=function(t){t.preventDefault(),e.props.buttonReset(),e.props.logout()},e}return Object(c.a)(a,[{key:"render",value:function(){if(!this.props.authState.isAuthenticated)return r.a.createElement(L.a,{to:"/"});this.props.authState.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null))}}]),a}(n.Component),q=Object(j.b)((function(e){return{button:e.ui.button,authState:e.auth}}),{logout:w.c,buttonReset:C.b})($),Q=(a(87),a(88),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(j.a,{store:P},r.a.createElement(L.d,null,r.a.createElement(L.b,{exact:!0,path:"/profile",component:q})),r.a.createElement(V,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(k.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[89,4,5]]]);
//# sourceMappingURL=main.45bf3a5a.chunk.js.map